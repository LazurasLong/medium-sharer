function extend(t){if(arguments.length<=0)throw new Error("Missing arguments in extend function");let e=t||{};for(let t=1;t<arguments.length;t++){let i=arguments[t]||{};for(let t in i)"object"!=typeof e[t]||isDomElement(e[t])?e[t]=e[t]||i[t]:e[t]=extend(e[t],i[t])}return e}function MediumSharer(t,e){e=extend(e,MediumSharer.defaultOptions),this.element=t,this.buttons=e.buttons}MediumSharer.prototype={constructor:MediumSharer,window:window,diffLeft:0,diffTop:-10,init:function(){document.addEventListener("mouseup",function(){setTimeout(function(){window.getSelection().toString()?(this.positionMenu(window.getSelection()),this.showMenu()):this.hideMenu()}.bind(this),0)}.bind(this))},getMenuElement:function(){return this.menu||(this.menu=document.getElementById("Toolbar")),this.menu},isDisplayed:function(){return this.getMenuElement().classList.contains("share-menu-active")},showMenu:function(){this.isDisplayed()||this.getMenuElement().classList.add("share-menu-active")},hideMenu:function(){this.isDisplayed()&&this.getMenuElement().classList.remove("share-menu-active")},getMenuWidth:function(){let t=this.getMenuElement();return t.style.left="0",t.style.right="initial",t.offsetWidth},getMenuHeight:function(){let t=this.getMenuElement();return t.style.left="0",t.style.right="initial",t.offsetHeight},getBoundary:function(t){let e=t.getRangeAt(0),i=e.getBoundingClientRect();return(!i||0===i.height&&0===i.width&&e.startContainer===e.endContainer)&&(i=e.startContainer.getBoundingClientRect()),i},positionMenu:function(t){let e=this.getBoundary(t),i=this.window.innerWidth;const n=this.getMenuElement(),o=this.getMenuWidth(),s=this.getMenuHeight();let r,u=o/2,h=this.diffLeft-u,l=document.getElementById("Container"),a={};["absolute","fixed"].indexOf(window.getComputedStyle(l).getPropertyValue("position"))>-1?console.log("Container is absolute"):a.top=this.window.pageYOffset,r=e.left+e.width/2,a.top+=e.top-s,e.top<50?(n.classList.add("share-menu-arrow-over"),n.classList.remove("share-menu-arrow-under"),a.top+=50+e.height-this.diffTop):(n.classList.add("share-menu-arrow-under"),n.classList.remove("share-menu-arrow-over"),a.top+=this.diffTop),r<u?(a.left=h+u,a.right="initial"):i-r<u?(a.left="auto",a.right="0"):(a.left=h+r,a.right="initial"),this.setToolbarPosition(a)},setToolbarPosition:function(t){["top","left","right"].forEach(function(e){this.getMenuElement().style[e]=t[e]+(isNaN(t[e])?"":"px")}.bind(this))}},MediumSharer.defaultOptions={element:"body",buttons:["twitter","facebook","linkedin"]};